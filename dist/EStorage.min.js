!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EStorage=t():e.EStorage=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";e.exports.getType=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return"String";case"[object Number]":return"Number";case"[object Boolean]":return"Boolean";case"[object Function]":return"Function";case"[object Object]":return"Object";case"[object Array]":return"Array";case"[object Date]":return"Date"}},e.exports.getValue=function(e,t){switch(e){case"String":return t;case"Number":return Number(t);case"Boolean":let r;return r="true"===t;case"Function":return new Function("return "+t)();case"Object":case"Array":return JSON.parse(t);case"Date":return new Date(t)}}},function(e,t,r){"use strict";var n=r(2).default,s=new n("session"),i=new n("local");e.exports={session:s,local:i}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return a});var n=r(0);const s="KEYWORDID",i="1.1.0",o="String,Number,Boolean,Function,Date,Object,Array";class a{constructor(e){this.VERSION=i,this.DATATYPE=o,this.type=e,this.data=null,this.events={},this.init()}init(){"session"===this.type?this.data=window.sessionStorage:"local"===this.type&&(this.data=window.localStorage),this.set(s,{KEYWORDID:"Object"})}set(e,t){if(!t)return;let r=e!==s?this.get(e):"",i=Object(n.getType)(t),o="";"String"===i||"Number"===i||"Boolean"===i||"Function"===i||"Date"===i?o="".concat(t):"Object"!==i&&"Array"!==i||(o="".concat(JSON.stringify(t))),this.data.setItem(e,o),e!==s&&this.updateKeys(e,i,"set");var a=r?"update":"set";this.call(e,t,r,a)}get(e){let t=this.getKeys(),r=this.data.getItem(e);return Object(n.getValue)(t[e],r)}getAll(){let e={};for(let t in this.data)this.data.hasOwnProperty(t)&&t!==s&&(e[t]=this.get(t));return e}clear(){this.data.clear(),this.set(s,{KEYWORDID:"Object"});for(let e in this.events)this.call(e,null,null,"clear")}update(e,t){this.isexist(e)&&this.set(e,t)}remove(e){let t=this.get(e);this.isexist(e)&&""!==e&&(this.data.removeItem(e),this.updateKeys(e,"","remove"),this.call(e,null,t,"remove"))}keyType(e){let t=this.getKeys();if(this.isexist(e))return t[e]}getKeys(){let e=this.data.getItem(s);return Object(n.getValue)("Object",e)}isexist(e){let t=this.getKeys();return!(!e||!t[e])}updateKeys(e,t,r){let n=this.get(s);switch(r){case"set":n[e]=t;break;case"remove":delete n[e];break;case"clear":for(let e in n)e!==s&&delete n[e]}this.set(s,n)}addEvent(e,t){e&&"function"==typeof t&&(this.events[e]=t)}call(e,t,r,n){var s=this.events;s[e]&&"function"==typeof s[e]&&(0,this.events[e])(t,r,n)}}}])});